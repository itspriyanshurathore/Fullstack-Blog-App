<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog Application</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <style>
      /* HERO SECTION STYLES */
      .hero-section {
        height: 70vh; /* responsive height */
        background-image: url("https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1500&q=80");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        position: relative;
      }

      /* Overlay */
      .hero-section::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.45); /* dark overlay */
      }

      .hero-section .container {
        position: relative;
        z-index: 2;
      }

      .hero-section h1 {
        text-shadow: 0px 4px 10px rgba(0, 0, 0, 0.6);
      }

      .hero-section p {
        text-shadow: 0px 3px 8px rgba(0, 0, 0, 0.4);
      }

      /* Mobile responsive adjustment */
      @media (max-width: 768px) {
        .hero-section {
          height: 60vh;
          padding: 40px 0;
        }

        .hero-section h1 {
          font-size: 2.2rem;
        }
      }
      /* Card Hover */
      .blog-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer;
      }

      .blog-card:hover {
        transform: translateY(-7px);
        box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.15);
      }

      .testimonial-card {
        transition: all 0.3s ease;
      }

      .testimonial-card:hover {
        transform: scale(1.03);
        box-shadow: 0 0.8rem 1.2rem rgba(0, 0, 0, 0.15);
      }
    </style>
  </head>

  <body class="bg-light">
    <!-- Navbar -->
    <%- include('partials/header') %>

    <!-- HERO SECTION WITH BACKGROUND IMAGE -->
    <div class="hero-section d-flex align-items-center text-center text-white">
      <div class="container">
        <h1 class="fw-bold mb-3 display-4">Welcome to My Blog App</h1>
        <p class="lead mb-4">
          Create posts, read blogs, and explore amazing content created by
          people like you!
        </p>
        <a href="/post/create" class="btn btn-light btn-lg shadow">
          <i class="bi bi-plus-circle"></i> Create New Post
        </a>
      </div>
    </div>

    <!-- ⭐ SERVICES SECTION -->
    <div class="container mt-5">
      <h2 class="text-center fw-bold mb-4">Our Services</h2>

      <div class="row g-4">
        <div class="col-md-4">
          <div class="card p-4 shadow-sm text-center">
            <i class="bi bi-pencil-square display-4 text-primary"></i>
            <h4 class="mt-3">Easy Blog Creation</h4>
            <p>Create your blog posts with a simple and clean editor.</p>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card p-4 shadow-sm text-center">
            <i class="bi bi-people display-4 text-success"></i>
            <h4 class="mt-3">Community Support</h4>
            <p>Join the community and engage with other bloggers.</p>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card p-4 shadow-sm text-center">
            <i class="bi bi-bar-chart display-4 text-warning"></i>
            <h4 class="mt-3">Growth Analytics</h4>
            <p>Track your blog growth and view your engagement stats.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- ⭐ TESTIMONIALS SECTION -->
    <div class="container mt-5">
      <h2 class="text-center fw-bold mb-4">What Our Users Say</h2>

      <div class="row g-4">
        <div class="col-md-4">
          <div class="card p-4 shadow testimonial-card">
            <p class="fst-italic">
              “This blog platform helped me reach thousands of readers. Amazing
              UI!”
            </p>
            <h6 class="fw-bold">— Rahul Sharma</h6>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card p-4 shadow testimonial-card">
            <p class="fst-italic">
              “I love how easy it is to create and manage my blogs. 10/10!”
            </p>
            <h6 class="fw-bold">— Priya Mehta</h6>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card p-4 shadow testimonial-card">
            <p class="fst-italic">
              “Best minimal and clean blogging application I’ve ever used.”
            </p>
            <h6 class="fw-bold">— Aman Verma</h6>
          </div>
        </div>
      </div>
    </div>

    <!-- ⭐ BLOG POSTS / CARD SECTION -->
    <div class="container mt-5 mb-5">
      <h2 class="text-center fw-bold mb-4">Latest Blog Posts</h2>

      <div class="row g-4">
        <!-- Dynamic Blog Posts -->
        <div class="row g-4">
          <% posts.forEach(post => { %>
          <div class="col-md-4">
            <div class="card blog-card shadow-sm">
              <!-- Blog Image -->
              <img
                src="<%= post.images[0]?.url %>"
                class="card-img-top"
                style="height: 220px; object-fit: cover"
                alt="Blog Image"
              />

              <div class="card-body">
                <!-- Category Badge -->
                <span class="badge bg-primary"><%= post.category %></span>

                <!-- Blog Title -->
                <h5 class="mt-2"><%= post.title.substring(0, 40) %></h5>

                <!-- Blog Description -->
                <p class="text-muted">
                  <%= post.description.substring(0, 80) %>...
                </p>

                <!-- Author Name -->
                <p class="small text-muted mb-1">
                  <i class="bi bi-person-circle"></i>
                  <%= post.author?.username || "Unknown Author" %>
                </p>
                <!-- Comments Summary -->
                <div class="d-flex align-items-center mt-2 text-muted small">
                  <i class="bi bi-chat-dots me-1"></i>

                  <% if (post.comments.length === 0) { %>
                  <span>No comments yet</span>
                  <% } else { %>
                  <span><%= post.comments.length %> comments</span>
                  <% } %>
                </div> <br>
               

                <!-- Read More Button -->
                <a
                  href="/post/<%= post._id %>"
                  class="btn btn-outline-primary btn-sm"
                >
                  Read More
                </a>
              </div>
            </div>
          </div>
          <% }) %>
        </div>
        <!-- CARD 1 -->
        <div class="col-md-4">
          <div class="card blog-card shadow-sm">
            <img
              src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e"
              class="card-img-top"
              alt=""
            />
            <div class="card-body">
              <span class="badge bg-primary">Travel</span>
              <h5 class="mt-2">Exploring the Ocean</h5>
              <p>
                Discover the deep blue wonders and breathtaking underwater life.
              </p>
            </div>
          </div>
        </div>

        <!-- CARD 2 -->
        <div class="col-md-4">
          <div class="card blog-card shadow-sm">
            <img
              src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d"
              class="card-img-top"
              alt=""
            />
            <div class="card-body">
              <span class="badge bg-success">Technology</span>
              <h5 class="mt-2">Future of AI</h5>
              <p>
                A detailed look at the upcoming revolution in artificial
                intelligence.
              </p>
            </div>
          </div>
        </div>

        <!-- CARD 3 -->
        <div class="col-md-4">
          <div class="card blog-card shadow-sm">
            <img
              src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d"
              class="card-img-top"
              alt=""
            />
            <div class="card-body">
              <span class="badge bg-warning text-dark">Food</span>
              <h5 class="mt-2">Best Indian Dishes</h5>
              <p>Experience the spicy and flavorful world of Indian cooking.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <%- include('partials/footer') %>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
